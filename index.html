<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emergency Dispatch System</title>
    <meta name="description" content="Emergency Dispatch System Interface" />
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <main class="main-container">
      <!-- Caller Info Form -->
      <section class="caller-info-section">
        <form class="caller-info-form" id="callerInfoForm">
          <div class="form-group-inline">
            <div class="label-container">
              <label for="caller-name">Caller Name</label>
            </div>
            <div class="input-row">
              <input id="caller-name" type="text" class="form-input" aria-label="Caller Name" />
              <label for="caller-number" class="inline-label">Caller Number</label>
              <input id="caller-number" type="tel" class="form-input" aria-label="Caller Number" />
              <label for="type" class="inline-label">Type</label>
              <input id="type" type="text" class="form-input" aria-label="Call Type" />
              <label for="idc-code" class="inline-label">IDC Code</label>
              <input id="idc-code" type="text" class="form-input idc-input" aria-label="IDC Code" />
            </div>
          </div>
        </form>
      </section>

      <div class="content-wrapper">
        <div class="layout-container">
          <!-- Navigation Panel -->
          <aside class="emergency-panel">
            <!-- Navigation Buttons -->
            <nav class="emergency-codes-grid">
              <!-- Row 1 -->
              <div class="code-row">
                <button class="code-btn emergency-btn" data-code="cardiac" data-type="nav">Cardiac</button>
                <button class="code-btn emergency-btn" data-code="choking" data-type="nav">Choking</button>
                <button class="code-btn emergency-btn" data-code="head-neck" data-type="nav">Head/Neck</button>
              </div>
              <!-- Row 2 -->
              <div class="code-row">
                <button class="code-btn emergency-btn" data-code="mental" data-type="nav">Mental</button>
                <button class="code-btn emergency-btn" data-code="poisoning" data-type="nav">Poisoning</button>
                <button class="code-btn emergency-btn" data-code="pregnancy" data-type="nav">Pregnancy</button>
              </div>
              <!-- Row 3 -->
              <div class="code-row">
                <button class="code-btn emergency-btn" data-code="stroke" data-type="nav">Stroke</button>
                <button class="code-btn emergency-btn" data-code="seizures" data-type="nav">Seizures</button>
                <button class="code-btn emergency-btn" data-code="pediatrics" data-type="nav">Pediatrics</button>
              </div>
              <!-- CPR Row -->
              <div class="code-row">
                <button class="code-btn cpr-btn" data-code="cpr-adult" data-type="direct">CPR Adult</button>
                <button class="code-btn cpr-btn" data-code="cpr-child" data-type="direct">CPR Child</button>
                <button class="code-btn cpr-btn" data-code="cpr-infant" data-type="direct">CPR Infant</button>
              </div>
            </nav>

            <div class="divider-thick"></div>

            <!-- Sub-Navigation (always visible, dynamically populated) -->
            <div class="sub-nav-container" id="subNavContainer">
              <ul class="sub-nav-list" id="subNavList">
                <!-- Sub-nav items will be populated dynamically by JavaScript -->
              </ul>
            </div>

            <div class="divider-thick"></div>

            <!-- Content Section (always visible, dynamically populated) -->
            <div class="content-container" id="contentContainer">
              <div class="content-area" id="contentArea">
                <!-- Content will be populated dynamically by JavaScript -->
              </div>
            </div>
          </aside>

          <!-- Location Form and Dispatch Buttons -->
          <div class="main-content">
            <div class="location-wrapper">
              <div class="location-row">
                <!-- Location Form -->
                <div class="location-form-container">
                  <form class="location-form" id="locationForm">
                    <fieldset>
                      <legend>Location</legend>
                      <input
                        type="text"
                        id="street-address"
                        class="location-input"
                        placeholder="Enter street address"
                        aria-label="Street address"
                      />
                      <div class="input-label">Street address</div>

                      <div class="apt-search-row">
                        <input
                          type="text"
                          id="apt-suite"
                          class="apt-input"
                          placeholder="Apt, suite, etc."
                          aria-label="Apartment, suite, etc."
                        />
                        <button type="button" class="search-btn" id="searchBtn">Search</button>
                      </div>

                      <div class="input-label">Apt. suite, etc.</div>

                      <label for="comments" class="comments-label">Narrative</label>
                      <textarea
                        id="comments"
                        class="comments-textarea"
                        placeholder="Enter additional comments or notes..."
                        aria-label="Narrative"
                      ></textarea>
                    </fieldset>
                  </form>
                </div>

                <!-- Right Column: Address Results and Map -->
                <div class="right-column">
                  <!-- Address Results Box -->
                  <div class="address-results" id="addressResults">
                    <ul class="address-list" id="addressList">
                      <li class="placeholder-text">Enter a search to see results</li>
                    </ul>
                  </div>

                  <!-- Map and Priority -->
                  <div class="map-container">
                    <iframe
                      id="mapIframe"
                      src="https://www.google.com/maps/d/u/0/embed?mid=1pwDgEjVgBxybEP34OjHv9x0VRGefprE&ehbc=2E312F"
                      width="640"
                      height="480"
                      class="map-iframe"
                      frameborder="0"
                      allowfullscreen
                    ></iframe>
                    <div class="priority-group" role="group" aria-label="Priority selection">
                      <button class="priority-btn active" data-priority="0" data-map="default" aria-pressed="true">
                        P
                      </button>
                      <button class="priority-btn" data-priority="1" data-map="priority1" aria-pressed="false">
                        1
                      </button>
                      <button class="priority-btn" data-priority="2" data-map="priority2" aria-pressed="false">
                        2
                      </button>
                      <button class="priority-btn" data-priority="3" data-map="priority3" aria-pressed="false">
                        3
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Dispatch Buttons -->
            <section class="dispatch-section">
              <div class="dispatch-row-1">
                <button class="dispatch-btn primary-btn" data-dispatch="police">Police</button>
                <button class="dispatch-btn primary-btn" data-dispatch="ems">EMS</button>
                <button class="dispatch-btn primary-btn" data-dispatch="fire">Fire</button>
                <button class="dispatch-btn primary-btn" data-dispatch="lang-access">Lang. Access</button>
              </div>

              <div class="dispatch-grid">
                <div class="dispatch-left">
                  <div class="dispatch-row">
                    <button class="dispatch-btn secondary-btn" data-dispatch="security">Security</button>
                    <button class="dispatch-btn secondary-btn" data-dispatch="jail">Jail</button>
                  </div>
                  <div class="dispatch-row">
                    <button class="dispatch-btn secondary-btn" data-dispatch="utility">Utility</button>
                    <button class="dispatch-btn secondary-btn" data-dispatch="hospital">Hospital</button>
                  </div>
                </div>

                <div class="dispatch-middle">
                  <button class="dispatch-btn primary-btn" data-dispatch="non-emerg">Non Emerg</button>
                  <button class="dispatch-btn secondary-btn" data-dispatch="tow">Tow</button>
                </div>

                <div class="dispatch-right">
                  <button class="dispatch-btn primary-btn" data-dispatch="988">988</button>
                  <button class="dispatch-btn warning-btn" data-dispatch="reset-simulation">Reset Simulation</button>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </main>

    <!-- Audio Player Modal -->
    <div class="audio-modal" id="audioModal">
      <div class="audio-modal-content">
        <h2>Audio Playing</h2>
        <p id="audioModalText">Playing audio...</p>
        <button class="audio-close-btn" id="audioCloseBtn">Stop & Close</button>
      </div>
    </div>

    <!-- Hidden Audio Elements -->
    <audio id="audio988" preload="auto">
      <source src="/audio/988.mp3" type="audio/mpeg">
    </audio>
    <audio id="audioLangLine" preload="auto">
      <source src="/audio/Language_Line.mp3" type="audio/mpeg">
    </audio>

    <script src="js/script.js"></script>
  </body>
</html>
